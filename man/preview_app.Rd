% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preview.R
\name{preview_app}
\alias{preview_app}
\title{Preview an MCP App in a web browser}
\usage{
preview_app(app, port = NULL, launch = TRUE)
}
\arguments{
\item{app}{An \link{McpApp} object, or a path to a directory containing an MCP
App \code{app.R} (which will be \code{\link[=source]{source()}}d to obtain the app object).}

\item{port}{Port for the local server. \code{NULL} (the default) picks a random
available port.}

\item{launch}{Whether to open the browser automatically (default \code{TRUE}).}
}
\value{
Invisibly, a list with \code{url} (the preview URL) and \code{stop()} (a
function to shut down the server).
}
\description{
Starts a local HTTP server and opens the MCP App in a browser. A lightweight
host page emulates the MCP Apps postMessage protocol so that tools are fully
functional â€” inputs trigger tool calls, and outputs update in real time, just
like they would inside Claude Desktop.
}
\examples{
\dontrun{
app <- mcp_app(
  ui = htmltools::tags$div(
    mcp_text_input("name", "Your name"),
    mcp_text("greeting")
  ),
  tools = list(
    list(
      name = "greet",
      fun = function(name = "world") {
        list(greeting = paste0("Hello, ", name, "!"))
      }
    )
  )
)

# Opens in browser with working inputs/outputs
srv <- preview_app(app)

# Stop when done
srv$stop()
}
}
